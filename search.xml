<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>基于ESP32的2.8寸彩屏驱动</title>
      <link href="2021/01/05/ESP32%E4%B8%8A%E7%9A%84ILI%E5%B1%8F%E5%B9%95%E9%A9%B1%E5%8A%A8/"/>
      <url>2021/01/05/ESP32%E4%B8%8A%E7%9A%84ILI%E5%B1%8F%E5%B9%95%E9%A9%B1%E5%8A%A8/</url>
      
        <content type="html"><![CDATA[<h5 id="前期准备"><a href="#前期准备" class="headerlink" title="前期准备"></a>前期准备</h5><p><font size = 4>  这快2.8寸TFT彩屏是从淘宝买的,分辨率320*240 驱动是ILI9341 接口是SPI,网上找到了32上跑的驱动代码,但是并没有找到ESP的驱动代码,准备自己写一个ESP32使用的ILI9341驱动和一些简单的画图接口</font></p><h5 id="屏幕初始化"><a href="#屏幕初始化" class="headerlink" title="屏幕初始化"></a>屏幕初始化</h5><p><font size = 4>  这个比较容易实现,现在已经有基于stm32的屏幕驱动,可以直接将C代码用python语法重写一遍即可\n</font><br><img src="http://fp1.fghrsh.net/2021/01/05/75856b8e05fe0eca6532896c28d5c6c1.png" alt="alt 文本" title="部分代码截图"></p><h5 id="添加基本绘图接口"><a href="#添加基本绘图接口" class="headerlink" title="添加基本绘图接口"></a>添加基本绘图接口</h5><p><font size = 4>  利用micro python固件提供的FrameBuffer类,重写该类方法，可以大大节省时间,在ESP内存中创建一个缓冲区，将要写入显存的数据先写入FrameBuffer,最终在show方法中将缓冲区数据通过SPI写入显存</font><br><font color = red size = 4> 注意!这块2.8寸屏的分辨率为320<em>240,而且数据格式为RGB565,即一个像素点需要16个bit,共需要320</em>240*16bit空间，对于ESP32肯定不能一次性写入显存(内存不足),应该多创建几次FrameBuffer分批写入比较合理</font></p><h6 id="1-画点"><a href="#1-画点" class="headerlink" title="1.画点"></a>1.画点</h6><font size = 4> '''python    def pixel(self,x,y,c = 0xffff):        self.getbuffer(x,y,1,1)        self.fb.pixel(0,0,c)  '''  </font> <h6 id="2-画线"><a href="#2-画线" class="headerlink" title="2.画线"></a>2.画线</h6><font size = 4>         w = x2-x1        h = y2-y1        self.getbuffer(x1,y1,w,h)        self.fb.line(0,0,w,h,c)        self.show() </font> <h6 id="3-画矩形"><a href="#3-画矩形" class="headerlink" title="3.画矩形"></a>3.画矩形</h6><font size = 4>         self.getbuffer(x,y,w,h)        self.fb.rect(0,0,w,h,c)        self.show()  </font> <h6 id="4-填充、擦除、斜线等绘图接口"><a href="#4-填充、擦除、斜线等绘图接口" class="headerlink" title="4.填充、擦除、斜线等绘图接口"></a>4.填充、擦除、斜线等绘图接口</h6><p><font size = 4> 详见<a href="https://github.com/lyzp">个人github</a></font></p><h5 id="添加高级绘图接口"><a href="#添加高级绘图接口" class="headerlink" title="添加高级绘图接口"></a>添加高级绘图接口</h5><h6 id="1-显示图片"><a href="#1-显示图片" class="headerlink" title="1.显示图片"></a>1.显示图片</h6>]]></content>
      
      
      <categories>
          
          <category> 单片机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ESP32 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>搭建ESP开发板</title>
      <link href="2021/01/05/%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAESP%E5%BC%80%E5%8F%91%E6%9D%BF/"/>
      <url>2021/01/05/%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAESP%E5%BC%80%E5%8F%91%E6%9D%BF/</url>
      
        <content type="html"><![CDATA[<h5 id="所需工具😎"><a href="#所需工具😎" class="headerlink" title="所需工具😎"></a>所需工具😎</h5><p><font size = 4>  电烙铁 手</font></p><h5 id="购买模块"><a href="#购买模块" class="headerlink" title="购买模块"></a>购买模块</h5><p><font size = 4>  洞洞板 ESP32最小系统板 0.96OLED 2.8寸TFT彩屏 排针排母若干 各类电源接口</font><br><img src="http://fp1.fghrsh.net/2021/01/05/4b1886b53da9a6828765d02253fdb094.md.png" alt="alt 文本"></p><h5 id="最终成果"><a href="#最终成果" class="headerlink" title="最终成果"></a>最终成果</h5><p><font size = 4>  洞洞板出来的板子效果不大好，但是可以正常使用</font>    </p><h5 id="安装开发软件"><a href="#安装开发软件" class="headerlink" title="安装开发软件"></a>安装开发软件</h5><p><font size = 4>  uPyCraft是一个micropython的代码编辑器，可以使用串口直接连接ESP32</font><br><img src="http://fp1.fghrsh.net/2021/01/05/453ba8508d1952baae1d76f8777631cb.md.jpg" alt="alt 文本"></p><h5 id="烧录ESP32固件"><a href="#烧录ESP32固件" class="headerlink" title="烧录ESP32固件"></a>烧录ESP32固件</h5><p><font size = 4>  由于准备使用micropython固件,所以第一步先去micropython官网下载esp32的固件包,之后在使用uPyCraft将固件烧录到ESP32内</font><br><img src="http://fp1.fghrsh.net/2021/01/05/e6eef6436ba1288cd3afae6820bf0231.md.png" alt="alt 文本"></p><h5 id="至此ESP32开发板已经初步完成"><a href="#至此ESP32开发板已经初步完成" class="headerlink" title="至此ESP32开发板已经初步完成"></a>至此ESP32开发板已经初步完成</h5><p><img src="http://fp1.fghrsh.net/2021/01/05/e6eef6436ba1288cd3afae6820bf0231.md.png" alt="alt 文本"></p><h5 id="下一步准备在写一个ESP32的ILI屏幕驱动-一会见ヾ-≧▽≦-o"><a href="#下一步准备在写一个ESP32的ILI屏幕驱动-一会见ヾ-≧▽≦-o" class="headerlink" title="下一步准备在写一个ESP32的ILI屏幕驱动,一会见ヾ(≧▽≦*)o"></a>下一步准备在写一个ESP32的ILI屏幕驱动,一会见ヾ(≧▽≦*)o</h5>]]></content>
      
      
      <categories>
          
          <category> 单片机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ESP32 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
    
  
</search>
